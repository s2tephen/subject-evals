import re, os, csv
import mechanize
from BeautifulSoup import BeautifulSoup

library = []
subjects = ['1.262','2.670','2.S980','4.109','4.11A','4.181','4.183','4.553','5.301','6.037','6.057','6.117','6.145','6.146','6.147','6.149','6.151','6.177','6.S085','6.S087','6.S089','6.S092','6.S093','6.S094','6.S096','6.S183','6.S184','6.S192','8.01','8.20','8.223','10.493','12.091','12.115','12.221','12.310','12.411','12.482','12.611','16.767','17.567','17.901','17.909','17.910','17.922','17.923','18.02A','18.095','20.300','21F.101','21F.151','21F.171','21F.217','21F.218','21F.301','21F.351','21F.401','21F.402','21F.451','21F.452','21F.501','21F.551','21F.601','21F.611','21F.651','21F.700','21F.701','21F.751','21F.782','21F.783','21F.801','21F.803','21F.851','ESD.054','ESD.262','ESD.301','ESD.S30','1.00','1.37','1.38','1.61','1.72','1.83','1.84','1.85','1.86','1.87','1.89','1.95','1.001','1.002','1.010','1.018','1.032','1.035','1.044','1.050','1.053','1.054','1.058','1.061','1.070','1.071','1.072','1.084','1.085','1.089','1.101','1.106','1.125','1.145','1.146','1.200','1.201','1.203','1.204','1.205','1.208','1.231','1.232','1.252','1.260','1.264','1.285','1.286','1.361','1.364','1.366','1.462','1.541','1.571','1.572','1.573','1.581','1.725','1.731','1.801','1.811','1.813','1.818','1.819','1.831','1.S992','2.00','2.01','2.03','2.05','2.12','2.20','2.25','2.28','2.42','2.51','2.65','2.66','2.75','2.79','2.96','2.001','2.003','2.004','2.005','2.006','2.008','2.009','2.013','2.016','2.02A','2.02B','2.031','2.032','2.050','2.051','2.060','2.072','2.080','2.086','2.087','2.092','2.093','2.096','2.097','2.111','2.120','2.151','2.152','2.154','2.167','2.171','2.611','2.612','2.625','2.626','2.627','2.650','2.671','2.672','2.673','2.678','2.688','2.700','2.701','2.703','2.705','2.723','2.750','2.772','2.785','2.791','2.794','2.795','2.810','2.853','2.854','2.890','2.961','2.978','2.A35','2.A49','2.S981','2.S994','2.S997','2.S998','2.S999','3.07','3.14','3.20','3.23','3.40','3.42','3.43','3.44','3.45','3.46','3.57','3.60','3.69','3.96','3.97','3.012','3.014','3.016','3.032','3.034','3.042','3.055','3.072','3.080','3.091','3.152','3.155','3.156','3.372','3.903','3.941','3.963','3.982','3.986','4.42','4.105','4.112','4.114','4.116','4.121','4.122','4.130','4.140','4.151','4.153','4.154','4.162','4.182','4.184','4.189','4.210','4.213','4.214','4.215','4.217','4.221','4.222','4.225','4.236','4.240','4.250','4.252','4.288','4.301','4.307','4.308','4.322','4.330','4.331','4.341','4.342','4.344','4.345','4.354','4.355','4.356','4.357','4.361','4.362','4.390','4.401','4.411','4.447','4.461','4.463','4.472','4.473','4.481','4.500','4.503','4.517','4.540','4.552','4.557','4.562','4.566','4.568','4.580','4.581','4.601','4.603','4.604','4.607','4.614','4.621','4.634','4.635','4.640','4.647','4.661','4.677','4.A22','4.S12','4.S23','4.S52','4.S63','4.S64','4.THT','5.04','5.07','5.12','5.13','5.35','5.36','5.37','5.43','5.52','5.53','5.54','5.60','5.61','5.64','5.70','5.73','5.95','5.061','5.067','5.111','5.112','5.310','5.35U','5.36U','5.37U','5.511','6.00','6.01','6.02','6.002','6.003','6.004','6.005','6.006','6.007','6.012','6.013','6.021','6.025','6.034','6.041','6.042','6.046','6.047','6.070','6.072','6.073','6.111','6.131','6.152','6.161','6.163','6.169','6.170','6.172','6.251','6.254','6.255','6.265','6.267','6.281','6.301','6.331','6.332','6.336','6.337','6.338','6.339','6.341','6.374','6.431','6.434','6.436','6.438','6.450','6.456','6.521','6.525','6.551','6.556','6.561','6.580','6.589','6.631','6.637','6.641','6.651','6.685','6.720','6.728','6.763','6.774','6.801','6.804','6.805','6.811','6.815','6.820','6.837','6.840','6.852','6.854','6.858','6.865','6.866','6.867','6.869','6.872','6.878','6.885','6.888','6.891','6.892','6.902','6.930','6.932','6.933','6.946','6.982','6.A47','6.A48','6.A57','6.A58','6.A59','6.UAR','6.UAT','6.S077','6.S078','6.S081','6.S082','6.S195','6.S198','6.S977','7.02','7.03','7.06','7.16','7.18','7.19','7.20','7.21','7.22','7.30','7.31','7.32','7.50','7.51','7.52','7.59','7.61','7.62','7.65','7.72','7.74','7.81','7.89','7.012','7.015','7.016','7.431','7.432','7.433','7.492','7.493','7.540','7.547','8.02','8.03','8.04','8.05','8.07','8.09','8.13','8.21','8.012','8.021','8.022','8.033','8.231','8.286','8.287','8.292','8.321','8.324','8.333','8.351','8.370','8.395','8.511','8.513','8.590','8.591','8.613','8.701','8.811','8.831','8.902','8.942','9.01','9.04','9.12','9.16','9.20','9.31','9.41','9.57','9.66','9.71','9.85','9.011','9.015','9.357','9.422','9.455','9.520','9.601','9.660','9.A14','9.A15','9.S911','9.S912','10.01','10.10','10.25','10.28','10.34','10.40','10.50','10.55','10.291','10.302','10.391','10.424','10.444','10.467','10.490','10.492','10.524','10.538','10.539','10.546','10.547','10.548','10.585','10.591','10.625','10.644','10.668','10.702','10.792','10.806','10.807','10.817','10.960','10.A13','10.A18','10.A21','10.A22','10.S95','11.001','11.002','11.006','11.012','11.014','11.015','11.021','11.025','11.124','11.129','11.137','11.161','11.165','11.168','11.201','11.202','11.203','11.205','11.233','11.301','11.308','11.309','11.314','11.315','11.328','11.345','11.351','11.354','11.360','11.371','11.373','11.379','11.401','11.405','11.407','11.408','11.430','11.431','11.433','11.435','11.437','11.463','11.466','11.469','11.472','11.477','11.482','11.483','11.493','11.520','11.540','11.544','11.545','11.601','11.630','11.701','11.A11','11.A14','11.THG','11.THT','11.S940','11.S941','11.S942','11.S944','11.S945','11.S946','11.S947','11.S948','12.43','12.000','12.001','12.003','12.006','12.008','12.010','12.012','12.021','12.086','12.109','12.113','12.114','12.158','12.163','12.300','12.301','12.320','12.330','12.335','12.336','12.346','12.385','12.410','12.420','12.444','12.458','12.463','12.471','12.481','12.486','12.586','12.601','12.620','12.708','12.712','12.742','12.754','12.756','12.800','12.803','12.804','12.805','12.807','12.808','12.809','12.815','12.816','12.818','12.831','12.835','12.842','12.846','12.885','12.A03','12.A32','12.A43','12.A56','12.A60','12.TIP','14.01','14.02','14.03','14.04','14.11','14.12','14.26','14.30','14.32','14.33','14.41','14.43','14.54','14.72','14.74','14.75','14.003','14.121','14.122','14.271','14.281','14.282','14.381','14.384','14.385','14.416','14.440','14.451','14.452','14.461','14.471','14.581','14.661','14.740','14.770','14.771','14.781','15.010','15.011','15.013','15.015','15.016','15.021','15.031','15.034','15.054','15.060','15.062','15.070','15.073','15.081','15.085','15.093','15.124','15.128','15.136','15.223','15.231','15.232','15.269','15.279','15.280','15.301','15.305','15.310','15.311','15.322','15.341','15.342','15.347','15.360','15.366','15.369','15.371','15.375','15.377','15.386','15.387','15.390','15.395','15.399','15.401','15.402','15.403','15.411','15.412','15.416','15.426','15.433','15.434','15.437','15.440','15.450','15.451','15.452','15.493','15.496','15.501','15.515','15.516','15.535','15.539','15.567','15.575','15.615','15.616','15.657','15.665','15.678','15.761','15.767','15.769','15.770','15.772','15.792','15.810','15.821','15.822','15.833','15.838','15.839','15.871','15.872','15.900','15.902','15.903','15.904','15.933','15.941','15.S03','15.S04','15.S05','15.S07','15.S09','15.S10','15.S11','15.S12','15.S13','15.S14','15.S16','15.S17','15.S18','15.S20','15.S22','15.S23','15.S25','15.S66','15.S68','15.S71','16.06','16.07','16.30','16.31','16.71','16.76','16.83','16.001','16.100','16.110','16.221','16.223','16.322','16.355','16.391','16.400','16.410','16.413','16.440','16.453','16.459','16.511','16.512','16.621','16.622','16.653','16.781','16.842','16.851','16.852','16.861','16.910','16.920','16.985','17.20','17.30','17.006','17.007','17.100','17.150','17.181','17.182','17.200','17.267','17.307','17.309','17.310','17.393','17.397','17.408','17.418','17.447','17.448','17.475','17.476','17.477','17.478','17.541','17.543','17.565','17.582','17.588','17.800','17.804','17.850','17.869','17.A20','17.THT','17.S914','17.S919','17.S950','17.S951','17.S952','17.S953','18.01','18.02','18.03','18.06','18.014','18.022','18.062','18.085','18.094','18.101','18.103','18.112','18.155','18.176','18.303','18.304','18.305','18.310','18.314','18.315','18.316','18.335','18.337','18.353','18.357','18.396','18.404','18.410','18.415','18.435','18.437','18.440','18.443','18.510','18.700','18.701','18.704','18.705','18.725','18.735','18.745','18.755','18.769','18.782','18.785','18.787','18.821','18.901','18.905','18.915','18.917','18.965','18.994','18.A13','18.A34','18.A40','18.100A','18.100B','18.100C','18.S096','18.S995','18.S996','20.002','20.102','20.106','20.109','20.110','20.201','20.215','20.305','20.309','20.320','20.363','20.370','20.405','20.409','20.411','20.416','20.420','20.430','20.441','20.445','20.446','20.450','20.452','20.454','20.463','20.470','20.507','20.554','22.01','22.04','22.05','22.06','22.11','22.12','22.15','22.33','22.39','22.51','22.71','22.011','22.033','22.081','22.251','22.312','22.611','22.811','22.814','24.00','24.09','24.221','24.237','24.241','24.251','24.260','24.280','24.900','24.901','24.902','24.904','24.906','24.913','24.915','24.931','24.932','24.949','24.951','24.956','24.961','24.963','24.964','24.970','24.979','24.991','24.992','24.S95','AS.101','AS.111','AS.201','AS.211','AS.401','AS.411','AS.511','EC.074','EC.100','EC.101','EC.110','EC.120','EC.305','EC.701','EC.702','EC.713','EC.716','EC.729','EC.731','EC.733','EC.781','EC.786','EC.792','EC.A031','EC.A032','EC.A033','EC.A740','EC.A790','MS.001','MS.101','MS.201','MS.301','MS.401','21A.01','21A.141','21A.142','21A.201','21A.203','21A.302','21A.303','21A.411','21A.415','21A.419','21A.461','21A.503','21A.801','21A.809','21A.839','21A.859','21F.024','21F.038','21F.043','21F.046','21F.048','21F.064','21F.065','21F.068','21F.074','21F.076','21F.103','21F.105','21F.107','21F.109','21F.113','21F.157','21F.173','21F.175','21F.181','21F.183','21F.185','21F.192','21F.194','21F.219','21F.220','21F.222','21F.223','21F.224','21F.225','21F.226','21F.232','21F.233','21F.302','21F.303','21F.304','21F.308','21F.310','21F.346','21F.347','21F.352','21F.371','21F.373','21F.374','21F.403','21F.404','21F.412','21F.420','21F.471','21F.473','21F.503','21F.505','21F.571','21F.573','21F.575','21F.592','21F.593','21F.613','21F.702','21F.703','21F.704','21F.712','21F.713','21F.735','21F.739','21F.752','21F.771','21F.772','21F.773','21F.774','21F.792','21F.820','21F.855','21F.870','21F.880','21H.001','21H.107','21H.130','21H.133','21H.154','21H.209','21H.211','21H.218','21H.226','21H.227','21H.233','21H.236','21H.244','21H.262','21H.320','21H.333','21H.354','21H.380','21H.381','21H.980','21H.991','21H.THT','21L.000','21L.001','21L.003','21L.004','21L.005','21L.006','21L.007','21L.009','21L.010','21L.011','21L.012','21L.013','21L.020','21L.021','21L.022','21L.023','21L.310','21L.315','21L.320','21L.435','21L.458','21L.460','21L.475','21L.487','21L.512','21L.611','21L.612','21L.639','21L.702','21L.705','21L.706','21L.715','21L.A26','21M.011','21M.013','21M.030','21M.051','21M.223','21M.226','21M.235','21M.271','21M.273','21M.283','21M.293','21M.299','21M.301','21M.302','21M.303','21M.310','21M.342','21M.361','21M.380','21M.401','21M.405','21M.421','21M.423','21M.426','21M.442','21M.445','21M.450','21M.451','21M.460','21M.480','21M.500','21M.512','21M.580','21M.600','21M.604','21M.605','21M.606','21M.624','21M.645','21M.704','21M.705','21M.710','21M.735','21M.805','21M.815','21M.830','21M.835','21M.851','21M.A12','21M.A15','21M.A16','21M.THT','21M.THU','21W.011','21W.012','21W.013','21W.015','21W.021','21W.022','21W.026','21W.031','21W.032','21W.033','21W.034','21W.035','21W.041','21W.042','21W.735','21W.737','21W.739','21W.740','21W.743','21W.747','21W.754','21W.755','21W.756','21W.757','21W.759','21W.762','21W.763','21W.770','21W.773','21W.778','21W.790','21W.791','21W.825','21W.890','CMS.100','CMS.300','CMS.309','CMS.335','CMS.350','CMS.360','CMS.362','CMS.407','CMS.611','CMS.614','CMS.615','CMS.628','CMS.634','CMS.701','CMS.790','CMS.796','CMS.801','CMS.809','CMS.815','CMS.828','CMS.830','CMS.834','CMS.840','CMS.841','CMS.850','CMS.860','CMS.862','CMS.867','CMS.871','CMS.901','CMS.950','CMS.S60','CMS.S61','CMS.S96','CMS.S97','CC.010','CC.110','CC.113','CC.801','CC.A10','CC.S10','CC.S11','CC.1802','CC.181A','CC.182A','CC.8012','CSB.100','ESD.05','ESD.21','ESD.31','ESD.34','ESD.36','ESD.39','ESD.61','ESD.70','ESD.71','ESD.73','ESD.83','ESD.87','ESD.050','ESD.051','ESD.082','ESD.103','ESD.110','ESD.124','ESD.133','ESD.137','ESD.151','ESD.166','ESD.193','ESD.210','ESD.213','ESD.216','ESD.217','ESD.224','ESD.225','ESD.250','ESD.251','ESD.260','ESD.264','ESD.341','ESD.355','ESD.691','ESD.710','ESD.754','ESD.773','ESD.801','ESD.803','ESD.862','ESD.S20','ES.033','ES.200','ES.801','ES.S10','ES.1801','ES.1802','ES.1803','ES.181A','ES.182A','ES.5112','ES.7012','ES.8012','ES.8022','HST.507','HST.508','HST.522','HST.523','HST.525','HST.540','HST.541','HST.544','HST.565','HST.580','HST.714','HST.914','HST.920','HST.950','HST.973','MAS.110','MAS.131','MAS.500','MAS.531','MAS.552','MAS.630','MAS.665','MAS.761','MAS.825','MAS.834','MAS.863','MAS.881','MAS.883','MAS.921','MAS.940','MAS.A19','MAS.S61','MAS.S62','MAS.S63','MAS.S64','MAS.S65','MAS.S70','STS.004','STS.007','STS.048','STS.060','STS.070','STS.071','STS.072','STS.076','STS.082','STS.085','STS.091','STS.250','STS.435','STS.440','STS.452','STS.470','STS.481','STS.482','STS.487','WGS.101','WGS.109','WGS.110','WGS.111','WGS.161','WGS.222','WGS.234','WGS.271','WGS.274','WGS.301','2.821','3.371','18.089','ESD.33','ESD.60','ESD.74','ESD.763','ESD.S51','1.34','1.56','1.77','1.007','1.011','1.013','1.015','1.016','1.020','1.021','1.036','1.040','1.041','1.056','1.060','1.080','1.081','1.083','1.102','1.107','1.151','1.153','1.202','1.207','1.234','1.251','1.253','1.254','1.255','1.258','1.261','1.265','1.271','1.273','1.274','1.283','1.284','1.351','1.381','1.401','1.472','1.561','1.570','1.582','1.685','1.692','1.714','1.723','1.851','2.06','2.14','2.22','2.24','2.29','2.37','2.55','2.58','2.61','2.71','2.72','2.83','2.002','2.007','2.00B','2.014','2.017','2.019','2.034','2.04A','2.065','2.066','2.071','2.081','2.082','2.084','2.090','2.094','2.110','2.140','2.160','2.165','2.370','2.372','2.374','2.391','2.500','2.661','2.674','2.675','2.680','2.702','2.704','2.710','2.722','2.739','2.752','2.753','2.782','2.792','2.793','2.796','2.797','2.813','2.830','2.888','2.965','2.979','2.S791','3.15','3.21','3.22','3.34','3.35','3.36','3.54','3.70','3.003','3.004','3.021','3.022','3.024','3.038','3.044','3.053','3.054','3.074','3.094','3.153','3.207','3.370','3.961','3.985','3.987','3.S044','3.S086','4.107','4.110','4.111','4.113','4.115','4.120','4.152','4.163','4.211','4.212','4.216','4.232','4.233','4.241','4.244','4.247','4.253','4.254','4.302','4.314','4.315','4.320','4.321','4.332','4.333','4.343','4.350','4.351','4.367','4.368','4.388','4.389','4.423','4.433','4.440','4.444','4.445','4.462','4.464','4.501','4.504','4.510','4.541','4.542','4.564','4.582','4.587','4.602','4.605','4.611','4.613','4.617','4.625','4.641','4.644','4.645','4.646','4.675','4.S27','4.S53','4.S68','5.03','5.05','5.08','5.24','5.38','5.45','5.46','5.48','5.62','5.68','5.74','5.068','5.069','5.512','5.561','6.011','6.022','6.023','6.024','6.033','6.035','6.045','6.049','6.050','6.061','6.071','6.115','6.123','6.141','6.182','6.207','6.241','6.252','6.262','6.268','6.302','6.334','6.335','6.344','6.345','6.375','6.437','6.440','6.441','6.443','6.503','6.522','6.555','6.581','6.632','6.634','6.642','6.690','6.695','6.717','6.730','6.731','6.775','6.777','6.780','6.781','6.803','6.813','6.814','6.824','6.829','6.830','6.831','6.833','6.834','6.835','6.838','6.856','6.857','6.868','6.875','6.893','6.903','6.945','6.S02','6.S063','6.S064','6.S076','6.S079','6.S080','6.S083','6.S084','6.S193','6.S194','7.05','7.08','7.10','7.23','7.26','7.27','7.28','7.33','7.36','7.37','7.41','7.47','7.49','7.55','7.57','7.58','7.60','7.63','7.64','7.66','7.67','7.68','7.69','7.70','7.76','7.77','7.80','7.82','7.88','7.91','7.95','7.98','7.013','7.340','7.341','7.342','7.343','7.345','7.346','7.430','7.440','7.549','8.06','8.08','8.14','8.011','8.044','8.225','8.251','8.276','8.282','8.284','8.311','8.322','8.323','8.325','8.371','8.422','8.431','8.512','8.592','8.594','8.624','8.711','8.851','8.871','8.901','8.962','8.S301','9.00','9.02','9.10','9.14','9.18','9.35','9.59','9.61','9.65','9.68','9.70','9.75','9.012','9.013','9.181','9.272','9.301','9.322','9.641','9.S51','9.S52','10.26','10.27','10.29','10.32','10.37','10.43','10.65','10.74','10.213','10.301','10.333','10.426','10.441','10.450','10.491','10.494','10.543','10.551','10.557','10.569','10.571','10.626','10.652','11.005','11.011','11.013','11.016','11.026','11.027','11.123','11.125','11.127','11.131','11.144','11.147','11.152','11.153','11.188','11.220','11.234','11.238','11.252','11.255','11.302','11.303','11.306','11.312','11.316','11.320','11.330','11.332','11.333','11.337','11.338','11.339','11.344','11.352','11.353','11.367','11.376','11.378','11.380','11.410','11.427','11.432','11.434','11.439','11.444','11.474','11.479','11.481','11.484','11.487','11.490','11.521','11.523','11.524','11.526','11.541','11.543','11.800','11.S943','11.S949','11.S952','11.S965','12.002','12.005','12.007','12.009','12.011','12.108','12.119','12.207','12.306','12.307','12.333','12.400','12.402','12.409','12.450','12.456','12.474','12.510','12.520','12.540','12.603','12.707','12.743','12.746','12.753','12.757','12.758','12.759','12.801','12.802','12.806','12.810','12.811','12.812','12.814','12.823','12.844','12.S490','12.S493','12.S680','14.05','14.15','14.16','14.20','14.21','14.36','14.44','14.51','14.73','14.123','14.124','14.126','14.137','14.272','14.273','14.283','14.284','14.382','14.386','14.387','14.441','14.442','14.444','14.453','14.454','14.462','14.472','14.473','14.573','14.662','14.772','14.773','15.012','15.014','15.025','15.032','15.037','15.038','15.053','15.058','15.068','15.071','15.074','15.075','15.077','15.078','15.084','15.099','15.122','15.123','15.137','15.141','15.218','15.220','15.225','15.228','15.229','15.268','15.270','15.281','15.317','15.318','15.320','15.345','15.349','15.356','15.358','15.363','15.376','15.385','15.394','15.398','15.427','15.428','15.429','15.431','15.438','15.439','15.441','15.442','15.444','15.460','15.464','15.466','15.467','15.490','15.491','15.518','15.521','15.545','15.565','15.571','15.617','15.618','15.628','15.655','15.660','15.668','15.677','15.698','15.762','15.763','15.764','15.765','15.771','15.783','15.799','15.812','15.818','15.820','15.834','15.846','15.847','15.878','15.879','15.905','15.910','15.911','15.912','15.913','15.914','15.915','15.S01','15.S02','15.S06','15.S08','15.S15','15.S21','15.S26','15.S30','15.S67','15.S69','15.S70','16.00','16.09','16.13','16.20','16.35','16.36','16.50','16.64','16.68','16.75','16.89','16.90','16.003','16.120','16.230','16.323','16.338','16.363','16.405','16.412','16.423','16.456','16.522','16.687','16.715','16.821','16.855','16.863','16.895','16.930','16.S899','17.01','17.28','17.50','17.57','17.000','17.021','17.178','17.245','17.276','17.430','17.482','17.483','17.523','17.537','17.538','17.581','17.583','17.802','17.806','17.871','17.878','17.903','17.962','17.S918','18.04','18.05','18.024','18.034','18.075','18.102','18.104','18.116','18.117','18.125','18.156','18.158','18.177','18.276','18.306','18.311','18.312','18.318','18.330','18.336','18.338','18.352','18.354','18.377','18.400','18.416','18.418','18.425','18.433','18.434','18.436','18.445','18.466','18.504','18.702','18.703','18.726','18.737','18.757','18.781','18.783','18.784','18.786','18.904','18.906','18.937','18.950','18.952','18.966','18.969','18.310A','20.020','20.104','20.111','20.213','20.310','20.330','20.345','20.361','20.371','20.380','20.385','20.390','20.415','20.440','20.451','20.471','20.482','20.486','20.490','20.S948','22.00','22.02','22.09','22.62','22.70','22.72','22.78','22.90','22.012','22.070','22.071','22.106','22.107','22.212','22.314','22.315','22.617','22.812','24.04','24.06','24.118','24.120','24.191','24.235','24.253','24.611','24.903','24.905','24.909','24.914','24.918','24.933','24.942','24.947','24.952','24.954','24.962','24.973','24.S90','AS.102','AS.112','AS.202','AS.212','AS.302','AS.312','AS.402','AS.412','EC.075','EC.310','EC.710','EC.711','EC.715','EC.717','EC.720','EC.791','MS.102','MS.202','MS.302','MS.402','21A.00','21A.101','21A.103','21A.104','21A.119','21A.155','21A.300','21A.301','21A.319','21A.329','21A.400','21A.409','21A.429','21A.445','21A.500','21A.501','21A.509','21A.819','21F.019','21F.021','21F.036','21F.039','21F.040','21F.075','21F.102','21F.104','21F.106','21F.108','21F.110','21F.142','21F.143','21F.152','21F.158','21F.162','21F.163','21F.190','21F.199','21F.227','21F.228','21F.312','21F.315','21F.321','21F.325','21F.415','21F.502','21F.504','21F.506','21F.552','21F.591','21F.612','21F.616','21F.711','21F.714','21F.716','21F.802','21F.804','21F.852','21F.S01','21F.S03','21F.S04','21H.009','21H.102','21H.132','21H.142','21H.152','21H.155','21H.161','21H.185','21H.201','21H.213','21H.217','21H.228','21H.238','21H.245','21H.253','21H.321','21H.331','21H.334','21H.351','21H.385','21H.390','21L.325','21L.421','21L.430','21L.432','21L.434','21L.448','21L.471','21L.501','21L.616','21L.703','21L.704','21L.709','21L.S94','21M.215','21M.220','21M.250','21M.260','21M.284','21M.291','21M.304','21M.340','21M.351','21M.355','21M.362','21M.410','21M.490','21M.505','21M.515','21M.525','21M.531','21M.533','21M.581','21M.603','21M.711','21M.734','21M.785','21M.789','21M.790','21M.791','21M.840','21M.841','21W.742','21W.745','21W.749','21W.750','21W.752','21W.758','21W.761','21W.768','21W.769','21W.771','21W.777','21W.789','21W.824','21W.826','CMS.400','CMS.405','CMS.590','CMS.608','CMS.610','CMS.616','CMS.617','CMS.621','CMS.631','CMS.633','CMS.791','CMS.821','CMS.831','CMS.833','CMS.863','CMS.864','CMS.868','CMS.888','CMS.915','CMS.920','CMS.922','CMS.925','CMS.935','CMS.951','CMS.S98','CC.011','CC.112','CC.802','CC.1803','ESD.01','ESD.07','ESD.30','ESD.32','ESD.38','ESD.40','ESD.63','ESD.65','ESD.80','ESD.86','ESD.052','ESD.053','ESD.101','ESD.125','ESD.132','ESD.162','ESD.163','ESD.191','ESD.192','ESD.212','ESD.222','ESD.226','ESD.261','ESD.263','ESD.265','ESD.267','ESD.268','ESD.274','ESD.283','ESD.284','ESD.344','ESD.352','ESD.379','ESD.565','ESD.712','ESD.753','ESD.755','ESD.762','ESD.802','ESD.863','ESD.864','ESD.865','ESD.S31','ESD.S41','ES.010','ES.802','ES.S60','ES.S61','ES.S71','ES.7013','HST.212','HST.452','HST.500','HST.515','HST.524','HST.542','HST.576','HST.582','HST.728','HST.916','HST.918','HST.936','HST.971','HST.977','HST.979','HST.S14','HST.S15','SP.360','MAS.111','MAS.132','MAS.330','MAS.532','MAS.533','MAS.571','MAS.581','MAS.664','MAS.700','MAS.712','MAS.731','MAS.826','MAS.862','STS.006','STS.009','STS.035','STS.042','STS.046','STS.056','STS.074','STS.075','STS.087','STS.089','STS.260','STS.320','STS.330','STS.471','STS.474','WGS.115','WGS.170','WGS.225','WGS.228','WGS.231','WGS.233','WGS.272','WGS.S10','1.092','4.100','4.180','4.230','4.231','4.S54','11.130','11.468','11.S950','11.S951','11.S953','11.S954','20.260','20.560','21F.314','21F.405','21L.340','21L.345','ESD.S50','HST.211','HST.S78','1.76','1.138','1.233','1.322','1.383','1.S991','2.18','2.23','2.57','2.59','2.60','2.62','2.67','2.062','2.085','2.180','2.183','2.184','2.341','2.570','2.744','3.063','3.154','4.255','4.264','4.365','4.366','4.427','4.430','4.431','4.474','4.475','4.522','4.523','4.556','4.561','4.616','4.663','4.670','4.671','4.S14','4.S32','4.S42','4.S66','5.44','5.50','5.72','5.063','6.102','6.253','6.256','6.541','6.652','6.691','6.832','6.842','6.850','6.851','6.870','6.881','6.S062','6.S897','6.S976','7.29','7.014','8.226','8.334','8.421','8.614','9.09','9.77','9.285','9.777','9.S913','9.S915','10.03','10.04','10.53','10.56','10.390','10.392','10.531','10.536','10.542','10.606','11.003','11.126','11.162','11.166','11.249','11.304','11.334','11.369','11.436','11.438','11.496','11.533','11.910','11.S195','11.S196','11.S958','12.340','12.431','12.491','12.740','12.820','12.980','12.THU','12.S990','14.19','14.48','14.70','14.582','16.82','16.333','16.346','16.430','16.470','16.540','16.763','16.831','16.888','16.891','16.940','16.S498','16.S949','17.33','17.42','17.55','17.115','17.202','17.303','17.317','17.398','17.407','17.551','17.552','17.572','17.584','17.955','17.THU','18.086','18.157','18.175','18.369','18.376','18.424','18.438','18.706','18.747','22.38','22.40','22.55','22.63','22.054','22.055','22.211','22.313','22.561','22.612','22.THU','22.S904','24.02','24.111','24.114','24.211','24.215','24.242','24.912','24.967','24.968','24.981','24.S96','EC.050','EC.090','EC.130','EC.714','21A.100','21A.114','21A.215','21A.218','21A.225','21A.228','21A.229','21A.340','21A.341','21A.342','21A.349','21A.430','21A.760','21F.011','21F.022','21F.027','21F.029','21F.069','21F.084','21F.410','21F.416','21F.555','21F.556','21F.562','21F.563','21F.590','21F.740','21H.106','21H.134','21H.250','21H.312','21H.365','21H.981','21L.002','21L.008','21L.029','21L.422','21L.433','21L.451','21L.473','21L.488','21L.522','21L.640','21M.065','21M.269','21M.294','21M.350','21M.715','21M.820','21M.863','21W.741','21W.746','21W.764','21W.767','21W.785','CMS.312','CMS.338','CMS.361','CMS.376','CMS.607','CMS.609','CMS.612','CMS.812','CMS.838','CMS.843','CMS.846','CMS.861','CMS.866','CMS.876','CC.111','CC.114','ESD.00','ESD.64','ESD.77','ESD.129','ESD.756','ESD.S21','ESD.S22','ESD.S40','ESD.S43','ES.S20','ES.S41','ES.S70','HST.491','HST.514','HST.531','HST.560','HST.584','HST.710','HST.723','HST.921','HST.922','HST.934','MAS.160','MAS.510','MAS.511','MAS.551','MAS.600','MAS.672','MAS.681','MAS.836','MAS.S60','STS.001','STS.005','STS.050','STS.068','STS.340','STS.390','STS.449','STS.S91','WGS.141','WGS.142','WGS.190','WGS.220','WGS.221','WGS.237','WGS.240','WGS.270','3.S70','4.102','11.S955','11.S959','16.660','16.853','22.921','ESD.62','1.57','1.S979','2.52','2.036','2.073','2.088','2.099','2.131','2.681','2.718','2.719','2.737','2.798','2.S996','3.33','3.064','3.971','4.119','4.171','4.185','4.274','4.312','4.313','4.352','4.353','4.360','4.424','4.520','4.521','4.619','4.651','4.S33','4.S62','5.062','5.S54','6.101','6.231','6.263','6.453','6.524','6.630','6.701','6.719','6.732','6.823','6.828','6.841','6.845','6.849','6.863','6.864','6.886','6.S196','6.S898','7.13','7.71','8.261','8.411','9.29','9.56','9.63','9.611','10.466','10.537','10.566','10.568','10.586','11.019','11.164','11.225','11.364','11.377','11.381','11.404','11.497','11.522','11.A12','11.S966','11.S969','12.085','12.090','12.201','12.480','12.501','12.524','12.552','12.A35','12.A44','12.S592','14.27','14.147','15.121','16.37','16.55','16.63','16.72','16.002','16.225','16.343','16.422','16.885','17.03','17.40','17.154','17.251','17.252','17.263','17.264','17.391','17.424','17.428','17.468','17.504','17.561','17.571','17.905','18.01A','18.152','18.199','18.325','18.355','18.384','18.385','18.395','18.405','18.465','18.712','18.721','18.A39','20.410','22.67','22.101','22.105','22.A01','22.A06','22.S902','22.S903','24.01','24.03','24.907','24.943','24.955','24.965','24.A02','24.S00','24.S94','AS.301','AS.311','EC.723','EC.S02','EC.A418','21A.102','21A.306','21A.550','21A.A10','21F.030','21F.052','21F.063','21F.193','21F.311','21F.320','21F.414','21F.596','21F.615','21F.730','21F.738','21F.871','21H.007','21H.101','21H.160','21H.205','21H.310','21L.014','21L.330','21L.335','21L.423','21L.450','21L.455','21L.472','21L.486','21L.489','21L.638','21L.701','21L.707','21M.289','21M.295','21M.341','21M.359','21M.732','21M.733','21M.865','21W.014','21W.036','21W.760','21W.765','21W.787','21W.THG','CMS.313','CMS.627','CMS.813','CMS.827','CMS.837','CMS.845','ESD.03','ESD.774','ESD.811','ES.3091','ES.5111','HST.583','HST.720','HST.975','MAS.402','MAS.750','MAS.837','STS.003','STS.010','STS.027','STS.032','STS.034','STS.043','STS.044','STS.064','STS.310','STS.413','STS.427','STS.443','STS.444','WGS.236','15.064','ESD.751','ESD.910','ESD.911','ESD.912','ESD.915','ESD.NIV','ESD.THG','ESD.URN','1.69','1.75','1.88','1.545','2.875','2.997','4.170','4.303','4.606','4.S22','4.S69','5.77','6.100','6.142','6.245','6.260','6.376','6.454','6.544','6.853','6.859','6.889','6.920','6.A55','6.S197','7.35','7.75','8.01L','8.398','8.514','8.A18','9.03','9.07','9.15','9.150','9.472','9.S914','10.544','10.552','11.402','11.423','11.470','11.527','11.906','11.S968','12.102','12.445','12.515','12.591','12.951','14.45','15.083','16.406','16.882','16.886','17.145','17.405','17.406','17.433','17.434','17.473','17.556','17.A22','18.409','18.417','18.758','20.472','22.616','24.112','24.190','24.231','24.244','EC.421','EC.600','EC.712','EC.782','EC.S06','EC.A411','EC.A600','EC.A621','EC.A789','21A.109','21A.113','21A.226','21A.232','21A.235','21A.242','21A.275','21A.290','21A.335','21A.339','21A.350','21A.650','21A.750','21F.044','21F.060','21F.071','21F.195','21F.474','21H.151','21H.318','21H.A11','21L.017','21L.044','21L.301','21L.476','21L.481','21L.A23','21M.611','21M.736','21W.023','21W.024','21W.025','21W.784','ESD.69','ESD.172','ESD.340','ESD.351','ESD.875','ESD.S24','ESD.S42','ES.S40','HST.569','HST.721','HST.926','HST.S96','MAS.714','STS.008','STS.011','STS.051','STS.086','STS.445','STS.462','WGS.172','WGS.235','WGS.276','ESD.930','ESD.933','ESD.945','1.64','1.67','1.331','1.802','1.812','1.814','2.27','2.64','2.993','3.37','3.47','3.53','3.64','3.083','3.320','3.560','3.595','3.901','3.989','3.993','4.106','4.108','4.124','4.144','4.156','4.285','4.295','4.296','4.449','4.609','4.623','4.627','4.628','4.655','4.662','4.672','4.673','4.681','5.78','8.821','8.872','9.34','9.50','9.52','9.173','9.675','9.913','9.915','9.916','10.495','10.560','10.595','10.805','11.022','11.191','11.368','11.488','11.631','11.941','11.945','11.947','11.949','11.950','11.965','12.172','12.214','12.222','12.432','12.472','12.473','12.475','12.507','12.867','12.S23','14.42','14.129','14.420','15.127','16.301','16.682','16.832','16.S26','17.315','17.S10','18.997','20.483','22.56','22.615','24.213','24.245','24.263','21A.265','21A.345','21A.348','21A.355','21A.512','21A.830','21A.840','21F.409','21H.105','21H.112','21H.115','21H.117','21H.153','21H.231','21H.234','21H.302','21H.306','21H.309','21H.346','21H.406','21H.416','21H.421','21H.433','21H.467','21H.502','21H.515','21H.573','21H.615','21H.631','21H.917','21H.931','21M.539','21M.540','21M.618','21M.670','21M.880','21M.881','21W.730','21W.731','21W.732','21W.734','21W.751','21W.772','21W.775','21W.786','CMS.336','CMS.600','CMS.601','CMS.602','CMS.613','CMS.810','CMS.820','CMS.835','CMS.836','CMS.996','CMS.997','CMS.998','SP.704','SP.705','SP.710','SP.711','SP.722','SP.723','SP.725','SP.733','SP.736','SP.747','SP.775','SP.784','ESD.123','ESD.134','ESD.136','ESD.804','ESD.934','ESD.938','ESD.939','ESD.941','ESD.942','ESD.950','ESD.951','HST.034','HST.035','HST.561','HST.590','HST.939','MAS.234','MAS.771','MAS.864','MAS.960','MAS.961','MAS.962','MAS.963','MAS.964','MAS.966','MAS.967','STS.096','STS.419','STS.429','SP.400','SP.401','SP.454','SP.466','SP.492','SP.512','SP.517','SP.576','SP.591','SP.601','SP.603','SP.650','11.963','11.971','11.973','12.312','21M.873']

br = mechanize.Browser()
br.addheaders = [('User-agent','Mozilla/5.0 (Windows; U; MSIE 9.0; WIndows NT 9.0; en-US))')]
br.set_handle_robots(False)

print 'scraping...'

for s in subjects:
  print '  ' + s,
  br.open('http://student.mit.edu/catalog/search.cgi?search=' + s + '&style=verbatim')
  soup = BeautifulSoup(br.response().read())
  match = re.search('Units: [0-9]+-[0-9]+-[0-9]+', soup.find('blockquote').text)
  if match:
    subunits = match.group(0).split(':')[1].strip().split('-')
    u = sum([int(str(su)) for su in subunits])
    library.append({'subject': s, 'units': u})
    print '...ok'
  else:
    print '...not found'
    continue

print '...done!'

field_names = ['subject', 'units']
writer = csv.DictWriter(open('units.csv', 'wb'), fieldnames=field_names)
headers = dict((n, n) for n in field_names)
writer.writerow(headers)
for data in library:
  writer.writerow(data)